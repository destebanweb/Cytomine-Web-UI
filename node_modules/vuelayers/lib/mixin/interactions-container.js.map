{"version":3,"file":"interactions-container.js","sources":["src/mixin/interactions-container.js"],"sourcesContent":["import Interaction from 'ol/interaction/Interaction'\nimport Vue from 'vue'\nimport { instanceOf } from '../util/assert'\n\nconst methods = {\n  /**\n   * @return {IndexedCollectionAdapter}\n   * @protected\n   */\n  getInteractionsTarget () {\n    throw new Error('Not implemented method')\n  },\n  /**\n   * @param {Interaction|Vue} interaction\n   * @return {void}\n   */\n  addInteraction (interaction) {\n    interaction = interaction instanceof Vue ? interaction.$interaction : interaction\n    instanceOf(interaction, Interaction)\n\n    if (this.getInteractionsTarget().has(interaction) === false) {\n      this.getInteractionsTarget().add(interaction)\n      this.sortInteractions()\n    }\n  },\n  /**\n   * @param {Interaction|Vue} interaction\n   * @return {void}\n   */\n  removeInteraction (interaction) {\n    interaction = interaction instanceof Vue ? interaction.$interaction : interaction\n\n    if (!interaction) return\n\n    if (this.getInteractionsTarget().has(interaction)) {\n      this.getInteractionsTarget().remove(interaction)\n      this.sortInteractions()\n    }\n  },\n  /**\n   * @return {Interaction[]}\n   */\n  getInteractions () {\n    return this.getInteractionsTarget().elements\n  },\n  /**\n   * @param {string|number} id\n   * @return {Interaction|undefined}\n   */\n  getInteractionById (id) {\n    return this.getInteractionsTarget().findByKey(id)\n  },\n  /**\n   * @return {void}\n   */\n  sortInteractions (sorter) {\n    sorter || (sorter = this.getDefaultInteractionsSorter())\n    this.getInteractionsTarget().sort(sorter)\n  },\n  /**\n   * @return {function}\n   * @protected\n   */\n  getDefaultInteractionsSorter () {\n    return () => 0\n  },\n  /**\n   * @return {void}\n   */\n  clearInteractions () {\n    this.getInteractionsTarget().clear()\n  },\n  /**\n   * @returns {Object}\n   * @protected\n   */\n  getServices () {\n    const vm = this\n\n    return {\n      get interactionsContainer () { return vm },\n    }\n  },\n}\n\nexport default {\n  methods,\n}\n"],"names":["methods","getInteractionsTarget","Error","addInteraction","interaction","Vue","$interaction","instanceOf","Interaction","has","add","sortInteractions","removeInteraction","remove","getInteractions","elements","getInteractionById","id","findByKey","sorter","getDefaultInteractionsSorter","sort","clearInteractions","clear","getServices","vm","interactionsContainer"],"mappings":";;;;;;;;;;;;;;AAIA,IAAMA,OAAO,GAAG;;;;;EAKdC,qBALc,mCAKW;UACjB,IAAIC,KAAJ,CAAU,wBAAV,CAAN;GANY;;;;;;EAYdC,cAZc,0BAYEC,WAZF,EAYe;IAC3BA,WAAW,GAAGA,WAAW,YAAYC,GAAvB,GAA6BD,WAAW,CAACE,YAAzC,GAAwDF,WAAtE;IACAG,UAAU,CAACH,WAAD,EAAcI,WAAd,CAAV;;QAEI,KAAKP,qBAAL,GAA6BQ,GAA7B,CAAiCL,WAAjC,MAAkD,KAAtD,EAA6D;WACtDH,qBAAL,GAA6BS,GAA7B,CAAiCN,WAAjC;WACKO,gBAAL;;GAlBU;;;;;;EAyBdC,iBAzBc,6BAyBKR,WAzBL,EAyBkB;IAC9BA,WAAW,GAAGA,WAAW,YAAYC,GAAvB,GAA6BD,WAAW,CAACE,YAAzC,GAAwDF,WAAtE;QAEI,CAACA,WAAL,EAAkB;;QAEd,KAAKH,qBAAL,GAA6BQ,GAA7B,CAAiCL,WAAjC,CAAJ,EAAmD;WAC5CH,qBAAL,GAA6BY,MAA7B,CAAoCT,WAApC;WACKO,gBAAL;;GAhCU;;;;;EAsCdG,eAtCc,6BAsCK;WACV,KAAKb,qBAAL,GAA6Bc,QAApC;GAvCY;;;;;;EA6CdC,kBA7Cc,8BA6CMC,EA7CN,EA6CU;WACf,KAAKhB,qBAAL,GAA6BiB,SAA7B,CAAuCD,EAAvC,CAAP;GA9CY;;;;;EAmDdN,gBAnDc,4BAmDIQ,MAnDJ,EAmDY;IACxBA,MAAM,KAAKA,MAAM,GAAG,KAAKC,4BAAL,EAAd,CAAN;SACKnB,qBAAL,GAA6BoB,IAA7B,CAAkCF,MAAlC;GArDY;;;;;;EA2DdC,4BA3Dc,0CA2DkB;WACvB;aAAM,CAAN;KAAP;GA5DY;;;;;EAiEdE,iBAjEc,+BAiEO;SACdrB,qBAAL,GAA6BsB,KAA7B;GAlEY;;;;;;EAwEdC,WAxEc,yBAwEC;QACPC,EAAE,GAAG,IAAX;WAEO;UACDC,qBAAJ,GAA6B;eAASD,EAAP;;;KADjC;;CA3EJ;AAiFA,4BAAe;EACbzB,OAAO,EAAPA;CADF;;;;"}