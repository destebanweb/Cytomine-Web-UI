{"version":3,"file":"layers-container.js","sources":["src/mixin/layers-container.js"],"sourcesContent":["import BaseLayer from 'ol/layer/Base'\nimport Vue from 'vue'\nimport { instanceOf } from '../util/assert'\n\nconst methods = {\n  /**\n   * @return {IndexedCollectionAdapter}\n   * @protected\n   */\n  getLayersTarget () {\n    throw new Error('Not implemented method')\n  },\n  /**\n   * @param {Layer|Vue} layer\n   * @return {void}\n   */\n  addLayer (layer) {\n    layer = layer instanceof Vue ? layer.$layer : layer\n    instanceOf(layer, BaseLayer)\n\n    if (this.getLayersTarget().has(layer) === false) {\n      this.getLayersTarget().add(layer)\n    }\n  },\n  /**\n   * @param {Layer|Vue} layer\n   * @return {void}\n   */\n  removeLayer (layer) {\n    layer = layer instanceof Vue ? layer.$layer : layer\n\n    if (!layer) return\n\n    if (this.getLayersTarget().has(layer)) {\n      this.getLayersTarget().remove(layer)\n    }\n  },\n  /**\n   * @return {Layer[]}\n   */\n  getLayers () {\n    return this.getLayersTarget().elements\n  },\n  /**\n   * @param {string|number} id\n   * @return {Layer|undefined}\n   */\n  getLayerById (id) {\n    return this.getLayersTarget().findByKey(id)\n  },\n  /**\n   * @return {void}\n   */\n  clearLayers () {\n    this.getLayersTarget().clear()\n  },\n  /**\n   * @returns {Object}\n   * @protected\n   */\n  getServices () {\n    const vm = this\n\n    return {\n      get layersContainer () { return vm },\n    }\n  },\n}\n\nexport default {\n  methods,\n}\n"],"names":["methods","getLayersTarget","Error","addLayer","layer","Vue","$layer","instanceOf","BaseLayer","has","add","removeLayer","remove","getLayers","elements","getLayerById","id","findByKey","clearLayers","clear","getServices","vm","layersContainer"],"mappings":";;;;;;;;;;;;;;AAIA,IAAMA,OAAO,GAAG;;;;;EAKdC,eALc,6BAKK;UACX,IAAIC,KAAJ,CAAU,wBAAV,CAAN;GANY;;;;;;EAYdC,QAZc,oBAYJC,KAZI,EAYG;IACfA,KAAK,GAAGA,KAAK,YAAYC,GAAjB,GAAuBD,KAAK,CAACE,MAA7B,GAAsCF,KAA9C;IACAG,UAAU,CAACH,KAAD,EAAQI,SAAR,CAAV;;QAEI,KAAKP,eAAL,GAAuBQ,GAAvB,CAA2BL,KAA3B,MAAsC,KAA1C,EAAiD;WAC1CH,eAAL,GAAuBS,GAAvB,CAA2BN,KAA3B;;GAjBU;;;;;;EAwBdO,WAxBc,uBAwBDP,KAxBC,EAwBM;IAClBA,KAAK,GAAGA,KAAK,YAAYC,GAAjB,GAAuBD,KAAK,CAACE,MAA7B,GAAsCF,KAA9C;QAEI,CAACA,KAAL,EAAY;;QAER,KAAKH,eAAL,GAAuBQ,GAAvB,CAA2BL,KAA3B,CAAJ,EAAuC;WAChCH,eAAL,GAAuBW,MAAvB,CAA8BR,KAA9B;;GA9BU;;;;;EAoCdS,SApCc,uBAoCD;WACJ,KAAKZ,eAAL,GAAuBa,QAA9B;GArCY;;;;;;EA2CdC,YA3Cc,wBA2CAC,EA3CA,EA2CI;WACT,KAAKf,eAAL,GAAuBgB,SAAvB,CAAiCD,EAAjC,CAAP;GA5CY;;;;;EAiDdE,WAjDc,yBAiDC;SACRjB,eAAL,GAAuBkB,KAAvB;GAlDY;;;;;;EAwDdC,WAxDc,yBAwDC;QACPC,EAAE,GAAG,IAAX;WAEO;UACDC,eAAJ,GAAuB;eAASD,EAAP;;;KAD3B;;CA3DJ;AAiEA,sBAAe;EACbrB,OAAO,EAAPA;CADF;;;;"}