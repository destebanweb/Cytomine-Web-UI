{"version":3,"file":"source-container.js","sources":["src/mixin/source-container.js"],"sourcesContent":["import Vue from 'vue'\n\nconst methods = {\n  /**\n   * @return {{\n   *     setSource: function(Source): void,\n   *     getSource: function(): Source\n   *   }|undefined}\n   * @protected\n   */\n  getSourceTarget () {\n    throw new Error('Not implemented method')\n  },\n  /**\n   * @return {Source|undefined}\n   */\n  getSource () {\n    return this._source\n  },\n  /**\n   * @returns {Object}\n   * @protected\n   */\n  getServices () {\n    const vm = this\n\n    return {\n      get sourceContainer () { return vm },\n    }\n  },\n  /**\n   * @param {Source|Vue|undefined} source\n   * @return {void}\n   */\n  setSource (source) {\n    source = source instanceof Vue ? source.$source : source\n\n    if (source !== this._source) {\n      this._source = source\n    }\n    /**\n     * @type {Layer|Builder}\n     */\n    const sourceTarget = this.getSourceTarget()\n    if (sourceTarget && source !== sourceTarget.getSource()) {\n      sourceTarget.setSource(source)\n    }\n  },\n}\n\nexport default {\n  methods,\n  created () {\n    /**\n     * @type {Source|undefined}\n     * @private\n     */\n    this._source = undefined\n  },\n}\n"],"names":["methods","getSourceTarget","Error","getSource","_source","getServices","vm","sourceContainer","setSource","source","Vue","$source","sourceTarget","created","undefined"],"mappings":";;;;;;;;;;;;AAEA,IAAMA,OAAO,GAAG;;;;;;;;EAQdC,eARc,6BAQK;UACX,IAAIC,KAAJ,CAAU,wBAAV,CAAN;GATY;;;;;EAcdC,SAdc,uBAcD;WACJ,KAAKC,OAAZ;GAfY;;;;;;EAqBdC,WArBc,yBAqBC;QACPC,EAAE,GAAG,IAAX;WAEO;UACDC,eAAJ,GAAuB;eAASD,EAAP;;;KAD3B;GAxBY;;;;;;EAgCdE,SAhCc,qBAgCHC,MAhCG,EAgCK;IACjBA,MAAM,GAAGA,MAAM,YAAYC,GAAlB,GAAwBD,MAAM,CAACE,OAA/B,GAAyCF,MAAlD;;QAEIA,MAAM,KAAK,KAAKL,OAApB,EAA6B;WACtBA,OAAL,GAAeK,MAAf;;;;;;;QAKIG,YAAY,GAAG,KAAKX,eAAL,EAArB;;QACIW,YAAY,IAAIH,MAAM,KAAKG,YAAY,CAACT,SAAb,EAA/B,EAAyD;MACvDS,YAAY,CAACJ,SAAb,CAAuBC,MAAvB;;;CA3CN;AAgDA,sBAAe;EACbT,OAAO,EAAPA,OADa;EAEba,OAFa,qBAEF;;;;;SAKJT,OAAL,GAAeU,SAAf;;CAPJ;;;;"}