{"version":3,"file":"index.js","sources":["src/component/circle-geom/geom.vue?rollup-plugin-vue=script.js","src/component/circle-geom/geom.vue","src/component/circle-geom/index.js"],"sourcesContent":["\nimport Circle from 'ol/geom/Circle'\nimport geometry from '../../mixin/geometry'\nimport { GEOMETRY_TYPE } from '../../ol-ext/consts'\nimport { hasGeometry } from '../../util/assert'\nimport { constant } from '../../util/minilo'\n\n/**\n * @vueProps\n */\nconst props = {\n  coordinates: {\n    type: Array,\n    required: true,\n    validator: value => value.length === 2,\n  },\n  radius: {\n    type: Number,\n    default: 0,\n  },\n}\n\n/**\n * @vueComputed\n */\nconst computed = {\n  type: constant(GEOMETRY_TYPE.POINT),\n  /**\n   * @type {Array|undefined}\n   */\n  coordinatesViewProj () {\n    if (this.rev && this.$geometry) {\n      return this.$geometry.getCenter()\n    }\n  },\n}\n\n/**\n * @vueMethods\n */\nconst methods = {\n  /**\n   * @return {Circle}\n   * @protected\n   */\n  createGeometry () {\n    return new Circle(this.toViewProj(this.coordinates), this.radius)\n  },\n  /**\n   * @return {Coordinate}\n   */\n  getCoordinates () {\n    hasGeometry(this)\n\n    return this.toDataProj(this.$geometry.getCenter())\n  },\n  /**\n   * @param {Coordinate} coordinate\n   */\n  setCoordinates (coordinate) {\n    hasGeometry(this)\n\n    this.$geometry.setCenter(this.toViewProj(coordinate))\n  },\n}\n\nconst watch = {\n  radius (value) {\n    if (!this.$geometry) return\n\n    if (value !== this.$geometry.getRadius()) {\n      this.$geometry.setRadius(value)\n    }\n  },\n}\n\n/**\n * @alias module:circle-geom/geom\n * @title vl-geom-circle\n * @vueProto\n */\nexport default {\n  name: 'vl-geom-circle',\n  mixins: [geometry],\n  props,\n  computed,\n  methods,\n  watch,\n}\n","<script>\n  import Circle from 'ol/geom/Circle'\n  import geometry from '../../mixin/geometry'\n  import { GEOMETRY_TYPE } from '../../ol-ext/consts'\n  import { hasGeometry } from '../../util/assert'\n  import { constant } from '../../util/minilo'\n\n  /**\n   * @vueProps\n   */\n  const props = {\n    coordinates: {\n      type: Array,\n      required: true,\n      validator: value => value.length === 2,\n    },\n    radius: {\n      type: Number,\n      default: 0,\n    },\n  }\n\n  /**\n   * @vueComputed\n   */\n  const computed = {\n    type: constant(GEOMETRY_TYPE.POINT),\n    /**\n     * @type {Array|undefined}\n     */\n    coordinatesViewProj () {\n      if (this.rev && this.$geometry) {\n        return this.$geometry.getCenter()\n      }\n    },\n  }\n\n  /**\n   * @vueMethods\n   */\n  const methods = {\n    /**\n     * @return {Circle}\n     * @protected\n     */\n    createGeometry () {\n      return new Circle(this.toViewProj(this.coordinates), this.radius)\n    },\n    /**\n     * @return {Coordinate}\n     */\n    getCoordinates () {\n      hasGeometry(this)\n\n      return this.toDataProj(this.$geometry.getCenter())\n    },\n    /**\n     * @param {Coordinate} coordinate\n     */\n    setCoordinates (coordinate) {\n      hasGeometry(this)\n\n      this.$geometry.setCenter(this.toViewProj(coordinate))\n    },\n  }\n\n  const watch = {\n    radius (value) {\n      if (!this.$geometry) return\n\n      if (value !== this.$geometry.getRadius()) {\n        this.$geometry.setRadius(value)\n      }\n    },\n  }\n\n  /**\n   * @alias module:circle-geom/geom\n   * @title vl-geom-circle\n   * @vueProto\n   */\n  export default {\n    name: 'vl-geom-circle',\n    mixins: [geometry],\n    props,\n    computed,\n    methods,\n    watch,\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Geom from './geom.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Geom, options)\n\n  Vue.component(Geom.name, Geom)\n}\n\nexport default plugin\n\nexport {\n  Geom,\n  plugin as install,\n}\n"],"names":["props","coordinates","type","Array","required","validator","value","length","radius","Number","default","computed","constant","GEOMETRY_TYPE","POINT","coordinatesViewProj","rev","$geometry","getCenter","methods","createGeometry","Circle","toViewProj","getCoordinates","hasGeometry","toDataProj","setCoordinates","coordinate","setCenter","watch","getRadius","setRadius","name","mixins","geometry","plugin","Vue","options","installed","pick","Geom","component"],"mappings":";;;;;;;;;;;;;;;;;AAOA;;;;AAGA,IAAMA,KAAK,GAAG;EACZC,WAAW,EAAE;IACXC,IAAI,EAAEC,KADK;IAEXC,QAAQ,EAAE,IAFC;IAGXC,SAAS,EAAE,mBAAAC,KAAK;aAAIA,KAAK,CAACC,MAAN,KAAiB,CAArB;;GAJN;EAMZC,MAAM,EAAE;IACNN,IAAI,EAAEO,MADA;IAENC,OAAO,EAAE;;;;;;CARb;AAeA,IAAMC,QAAQ,GAAG;EACfT,IAAI,EAAEU,QAAQ,CAACC,aAAa,CAACC,KAAf,CADC;;;;;EAKfC,mBALe,iCAKQ;QACjB,KAAKC,GAAL,IAAY,KAAKC,SAArB,EAAgC;aACvB,KAAKA,SAAL,CAAeC,SAAf,EAAP;;;CAPN;;;;;AAeA,IAAMC,OAAO,GAAG;;;;;EAKdC,cALc,4BAKI;WACT,IAAIC,MAAJ,CAAW,KAAKC,UAAL,CAAgB,KAAKrB,WAArB,CAAX,EAA8C,KAAKO,MAAnD,CAAP;GANY;;;;;EAWde,cAXc,4BAWI;IAChBC,WAAW,CAAC,IAAD,CAAX;WAEO,KAAKC,UAAL,CAAgB,KAAKR,SAAL,CAAeC,SAAf,EAAhB,CAAP;GAdY;;;;;EAmBdQ,cAnBc,0BAmBEC,UAnBF,EAmBc;IAC1BH,WAAW,CAAC,IAAD,CAAX;SAEKP,SAAL,CAAeW,SAAf,CAAyB,KAAKN,UAAL,CAAgBK,UAAhB,CAAzB;;CAtBJ;AA0BA,IAAME,KAAK,GAAG;EACZrB,MADY,kBACJF,KADI,EACG;QACT,CAAC,KAAKW,SAAV,EAAqB;;QAEjBX,KAAK,KAAK,KAAKW,SAAL,CAAea,SAAf,EAAd,EAA0C;WACnCb,SAAL,CAAec,SAAf,CAAyBzB,KAAzB;;;CALN;;;;;;;AAeA,aAAe;EACb0B,IAAI,EAAE,gBADO;EAEbC,MAAM,EAAE,CAACC,QAAD,CAFK;EAGblC,KAAK,EAALA,KAHa;EAIbW,QAAQ,EAARA,QAJa;EAKbQ,OAAO,EAAPA,OALa;EAMbU,KAAK,EAALA;CANF;;;AC9EY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAZ,SAASM,MAAT,CAAiBC,GAAjB,EAAoC;MAAdC,OAAc,uEAAJ,EAAI;;MAC9BF,MAAM,CAACG,SAAX,EAAsB;;;;EAGtBH,MAAM,CAACG,SAAP,GAAmB,IAAnB;EAEAD,OAAO,GAAGE,IAAI,CAACF,OAAD,EAAU,gBAAV,CAAd;;iBACcG,IAAd,EAAoBH,OAApB;;EAEAD,GAAG,CAACK,SAAJ,CAAcD,IAAI,CAACR,IAAnB,EAAyBQ,IAAzB;;;;;;"}