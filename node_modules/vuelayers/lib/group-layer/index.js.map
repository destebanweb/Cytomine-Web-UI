{"version":3,"file":"index.js","sources":["src/component/group-layer/layer.vue?rollup-plugin-vue=script.js","src/component/group-layer/layer.vue","src/component/group-layer/index.js"],"sourcesContent":["\nimport GroupLayer from 'ol/layer/Group'\nimport { layer, layersContainer } from '../../mixin'\nimport { IndexedCollectionAdapter } from '../../ol-ext'\nimport { hasLayer } from '../../util/assert'\nimport mergeDescriptors from '../../util/multi-merge-descriptors'\n\nconst methods = {\n  createLayer () {\n    return new GroupLayer({\n      id: this.id,\n      minResolution: this.minResolution,\n      maxResolution: this.maxResolution,\n      opacity: this.opacity,\n      visible: this.visible,\n      extent: this.extent,\n      zIndex: this.zIndex,\n    })\n  },\n  getLayersTarget () {\n    hasLayer(this)\n\n    if (this._layersTarget == null) {\n      this._layersTarget = new IndexedCollectionAdapter(\n        this.$layer.getLayers(),\n        layer => layer.get('id'),\n      )\n    }\n\n    return this._layersTarget\n  },\n  getServices () {\n    return mergeDescriptors(\n      this::layer.methods.getServices(),\n      this::layersContainer.methods.getServices()\n    )\n  },\n}\n\nexport default {\n  name: 'vl-layer-group',\n  mixins: [layer, layersContainer],\n  methods,\n}\n","<script>\n  import GroupLayer from 'ol/layer/Group'\n  import { layer, layersContainer } from '../../mixin'\n  import { IndexedCollectionAdapter } from '../../ol-ext'\n  import { hasLayer } from '../../util/assert'\n  import mergeDescriptors from '../../util/multi-merge-descriptors'\n\n  const methods = {\n    createLayer () {\n      return new GroupLayer({\n        id: this.id,\n        minResolution: this.minResolution,\n        maxResolution: this.maxResolution,\n        opacity: this.opacity,\n        visible: this.visible,\n        extent: this.extent,\n        zIndex: this.zIndex,\n      })\n    },\n    getLayersTarget () {\n      hasLayer(this)\n\n      if (this._layersTarget == null) {\n        this._layersTarget = new IndexedCollectionAdapter(\n          this.$layer.getLayers(),\n          layer => layer.get('id'),\n        )\n      }\n\n      return this._layersTarget\n    },\n    getServices () {\n      return mergeDescriptors(\n        this::layer.methods.getServices(),\n        this::layersContainer.methods.getServices()\n      )\n    },\n  }\n\n  export default {\n    name: 'vl-layer-group',\n    mixins: [layer, layersContainer],\n    methods,\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Layer from './layer.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Layer, options)\n\n  Vue.component(Layer.name, Layer)\n}\n\nexport default plugin\n\nexport {\n  Layer,\n  plugin as install,\n}\n"],"names":["methods","createLayer","GroupLayer","id","minResolution","maxResolution","opacity","visible","extent","zIndex","getLayersTarget","hasLayer","_layersTarget","IndexedCollectionAdapter","$layer","getLayers","layer","get","getServices","mergeDescriptors","layersContainer","name","mixins","plugin","Vue","options","installed","pick","Layer","component"],"mappings":";;;;;;;;;;;;;;;;;;AAOA,IAAMA,OAAO,GAAG;EACdC,WADc,yBACC;WACN,IAAIC,UAAJ,CAAe;MACpBC,EAAE,EAAE,KAAKA,EADW;MAEpBC,aAAa,EAAE,KAAKA,aAFA;MAGpBC,aAAa,EAAE,KAAKA,aAHA;MAIpBC,OAAO,EAAE,KAAKA,OAJM;MAKpBC,OAAO,EAAE,KAAKA,OALM;MAMpBC,MAAM,EAAE,KAAKA,MANO;MAOpBC,MAAM,EAAE,KAAKA;KAPR,CAAP;GAFY;EAYdC,eAZc,6BAYK;IACjBC,QAAQ,CAAC,IAAD,CAAR;;QAEI,KAAKC,aAAL,IAAsB,IAA1B,EAAgC;WACzBA,aAAL,GAAqB,IAAIC,wBAAJ,CACnB,KAAKC,MAAL,CAAYC,SAAZ,EADmB,EAEnB,UAAAC,QAAK;eAAIA,QAAK,CAACC,GAAN,CAAU,IAAV,CAAJ;OAFc,CAArB;;;WAMK,KAAKL,aAAZ;GAtBY;EAwBdM,WAxBc,yBAwBC;WACNC,gBAAgB,CACfH,KAAK,CAAChB,OAAN,CAAckB,WAApB,WADqB,EAEfE,eAAe,CAACpB,OAAhB,CAAwBkB,WAA9B,WAFqB,CAAvB;;CAzBJ;AAgCA,aAAe;EACbG,IAAI,EAAE,gBADO;EAEbC,MAAM,EAAE,CAACN,KAAD,EAAQI,eAAR,CAFK;EAGbpB,OAAO,EAAPA;CAHF;;;ACpCY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAZ,SAASuB,MAAT,CAAiBC,GAAjB,EAAoC;MAAdC,OAAc,uEAAJ,EAAI;;MAC9BF,MAAM,CAACG,SAAX,EAAsB;;;;EAGtBH,MAAM,CAACG,SAAP,GAAmB,IAAnB;EAEAD,OAAO,GAAGE,IAAI,CAACF,OAAD,EAAU,gBAAV,CAAd;;iBACcG,KAAd,EAAqBH,OAArB;;EAEAD,GAAG,CAACK,SAAJ,CAAcD,KAAK,CAACP,IAApB,EAA0BO,KAA1B;;;;;;"}